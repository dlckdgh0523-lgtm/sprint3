generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
model Product {
  id          Int      @id @default(autoincrement())
  last_name   String?  @db.VarChar(255)
  description String?
  price       Int
  tags        String[] @default([])
  
  
  image       String?  
  
  viewCount   Int      @default(0)
  createdAt   DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt   DateTime? @updatedAt @map("updated_at") @db.Timestamptz(6)
  
  comments    ProductComment[]
}

model ProductComment {
  id         Int      @id @default(autoincrement())
  content    String
  image      String?  
  createdAt  DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  
  product    Product  @relation(fields: [product_id], references: [id], onDelete: Cascade)
  product_id Int
}



model Article {
  id          Int      @id @default(autoincrement())
  title       String
  content     String   
  body        String?  
  image       String?
  published   Boolean  @default(false)
  viewCount   Int      @default(0)
  createdAt   DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt   DateTime? @updatedAt @map("updated_at") @db.Timestamptz(6)

  comments    ArticleComment[]
}

model ArticleComment {
  id          Int      @id @default(autoincrement())
  content     String
  image       String?
  createdAt   DateTime @default(now()) @map("created_at") @db.Timestamptz(6)

  article     Article  @relation(fields: [article_id], references: [id], onDelete: Cascade)
  article_id  Int
}